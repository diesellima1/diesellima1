# Nome da Ação que aparecerá na aba "Actions" do GitHub
name: Snake Game

# Controlador de tempo e gatilhos
on:
  # Será atualizado a cada 5 horas.
  schedule:
    - cron: "0 */5 * * *"
  # Permite execução manual na interface de Actions
  workflow_dispatch:

# Regras e Tarefas
jobs:
  build:
    runs-on: ubuntu-latest
    steps:

    # 1. Checkout do Repositório (Permite acesso aos arquivos)
    - uses: actions/checkout@v2

    # 2. Geração da Animação da Cobrinha
    - uses: Platane/snk@master
      id: snake-gif
      with:
        # CORREÇÃO: Usa o seu nome de usuário para buscar a atividade
        github_user_name: diesellima1 
        gif_out_path: dist/github-contribution-grid-snake.gif
        svg_out_path: dist/github-contribution-grid-snake.svg

    # 3. Exibição do Status (Opcional, mas útil)
    - run: git status

    # 4. Push das Alterações para a Branch 'output'
    # Esta seção do tutorial estava incorreta e foi substituída pela seção 5, que lida com a branch 'output'
    
    # 5. Configuração da Branch de Saída (Output Branch)
    - uses: crazy-max/ghaction-github-pages@v2
      with:
        # A branch de destino onde os arquivos .svg e .gif serão salvos
        target_branch: output
        build_dir: dist # A pasta onde o Platane/snk salvou os arquivos
      env:
        # Token de segurança fornecido pelo GitHub
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
